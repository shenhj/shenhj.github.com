
<!DOCTYPE html>
<html>
	<meta charset="utf-8" />
	<style>
		html,body {
			margin: 0;
			padding: 0;
			position: absolute;
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		canvas {display: block}
	</style>
	<body>
	<script>
		var TraceSys = function () {
			var canvas, 
				ctx, 
				shooter, 
				tar;
            var speed = 10;

			window.requestAnimFrame = (function() {
  				return window.requestAnimationFrame ||
    			window.webkitRequestAnimationFrame ||
     			window.mozRequestAnimationFrame ||
     			window.oRequestAnimationFrame ||
     			window.msRequestAnimationFrame ||
     			function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {
       				window.setTimeout(callback, 1000/60);
     			};
			})();

			function genCanvas(){
				canvas = document.getElementsByTagName('canvas')[0];
				if(!canvas){
					canvas = document.createElement('canvas');
					canvas.id = 'bullet-canvas';
					document.body.appendChild(canvas);
				}
				ctx = canvas.getContext('2d');
			};

			function resize(){
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
			};

			var init = function(){
				genCanvas();
				resize();
				tar = new ShootTarget();
				shooter = new Shooter();

				tick();
			};

			return {init: init};
		}();

		onload = function () {
			TraceSys.init();
		}
	</script>
	</body>
</html>
